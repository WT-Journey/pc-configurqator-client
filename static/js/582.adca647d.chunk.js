"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[582],{582:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var n=t(43),a=(t(384),t(579));function i(e){let{items:s,parentCallback:t}=e;return(0,a.jsx)("div",{children:null===s||void 0===s?void 0:s.map((e=>(0,a.jsxs)("div",{className:"wrapperIron",children:[(0,a.jsxs)("div",{className:"leftBlock",children:[(0,a.jsx)("img",{src:e.img,alt:"",className:"cardImg"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:e.name}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{children:e.disk_type})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:e.price}),(0,a.jsx)("button",{onClick:()=>{t(e)},children:"\u0414\u043e\u0434\u0430\u0442\u0438"})]})]},e.id)))})}const c=e=>{let{active:s,setActive:t,items:c,parentCallback:l,isLoading:r}=e;const[d,o]=(0,n.useState)(0),[h,u]=(0,n.useState)(0),[j,p]=(0,n.useState)(3e5),[x,m]=(0,n.useState)([]),[v,b]=(0,n.useState)(c),S=(0,n.useCallback)((async()=>{const e=await fetch("http://localhost:8080/hard_drive",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({Price:[Number(h),Number(j)],Disk_type:0!==x.length?x:""})});return(await e.json()).Page_data}),[h,j,x]),f=e=>{if(x.includes(e)){let s=x.filter((s=>s!==e));m(s)}else m([...x,e])};return(0,n.useEffect)((()=>{if(5!==d){async function e(){try{const e=await S();b(e)}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}}e(),o((e=>e+1))}}),[d,S]),(0,n.useEffect)((()=>{!async function(){try{const e=await S();b(e)}catch(e){console.error("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0435\u043d\u043d\u0456 \u0434\u0430\u043d\u0438\u0445:",e)}}()}),[S,r]),(0,a.jsx)("div",{className:s?"modal active":"modal",onClick:()=>t(!1),children:(0,a.jsxs)("div",{className:s?"modal__content active":"modal__content",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"buttons-container",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c"}),(0,a.jsx)("input",{type:"number",value:h,onChange:e=>u(e.target.value)}),(0,a.jsx)("input",{type:"number",value:j,onChange:e=>p(e.target.value)})]}),(0,a.jsx)("p",{children:"\u0422\u0438\u043f \u043d\u0430\u043a\u043e\u043f\u0438\u0447\u0443\u0432\u0430\u0447\u0430 \u0434\u0430\u043d\u0438\u0445:"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"checkbox",id:"HDD",name:"HDD",onChange:()=>f("HDD")}),(0,a.jsx)("label",{htmlFor:"HDD",children:"HDD"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"checkbox",id:"SSD",name:"SSD",onChange:()=>f("SSD")}),(0,a.jsx)("label",{htmlFor:"SSD",children:"SSD"})]})]}),(0,a.jsx)("div",{className:"scroll",children:(0,a.jsx)(i,{items:v,parentCallback:l})})]})})}}}]);
//# sourceMappingURL=582.adca647d.chunk.js.map